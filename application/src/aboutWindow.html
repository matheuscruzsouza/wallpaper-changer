<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
</head>

<body>
  <div id="directory">

  </div>
</body>
<script src="neutralino.js"></script>
<script>
  let local_path = NL_PATH

  const readDirectory = (entity = {type: 'DIRECTORY', entry: ''}) => {
    if (entity.type == 'DIRECTORY'){
      local_path += "/" + entity.entry;
      Neutralino.filesystem.readDirectory(this.local_path).then((response) => {
        const container = document.getElementById("directory");

        const data = response.sort((a, _b) => a.type == 'FILE' ? 1 : -1);

        for (const item in data) {
          const element = document.createElement('div');
          const text = document.createElement('label');
          text.innerText = item.entry;
          element.appendChild(text);
          container.appendChild(element);
        }

      });
    }
  }

  setTimeout(() => {
    readDirectory();
  }, 1000);

</script>
</html>
